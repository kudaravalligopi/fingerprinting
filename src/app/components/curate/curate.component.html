<div class="row">
	<section id="inputs" class="col-mat-12">
		<form [formGroup]="curateForm" novalidate>
			<mat-form-field>
				<mat-select placeholder="Select Data Zone" class="fingerprint-select" autofocus formControlName="zoneName">
					<mat-option *ngFor="let zone of zones" [value]="zone.name " (click)="selectZone(zone.name)">{{zone.name}}</mat-option>
				</mat-select>
			</mat-form-field>
			<mat-form-field>
				<mat-select placeholder="Select DB/Source" class="fingerprint-select" formControlName="sourceName">
					<mat-option *ngFor="let source of sourceNames" [value]="source" (click)="selectSource(source)">{{source}}</mat-option>
				</mat-select>
			</mat-form-field>
			<mat-form-field>
				<mat-select placeholder="Select Data Table" class="fingerprint-select" formControlName="tableName">
					<mat-option *ngFor="let table of tableNames" [value]="table" (click)="selectTable(table)">{{table}}</mat-option>
				</mat-select>
			</mat-form-field>
			<mat-form-field>
				<mat-select placeholder="Select Data Column" class="fingerprint-select" formControlName="columnName">
					<mat-option *ngFor="let column of columnNames" [value]="column" (click)="selectColumn(column)">{{column}}</mat-option>
				</mat-select>
			</mat-form-field>
			<br>
			<div *ngIf="columnSelected">
				<div formArrayName="tagInfo">
					<div *ngFor="let tags of curateForm.controls.tagInfo.controls; let i = index">
						<div [formGroupName]="i">
							<div class="row">
								<div class="col-sm-1">
									<button mat-mini-fab color="primary" (click)="addNewTag()" style="color: white"*ngIf="curateForm.controls.tagInfo.controls.length < 4">
										<mat-icon>add</mat-icon>
									</button>
								</div>
								<div class="col-sm-1">
									<button mat-mini-fab color="primary" (click)="removeTag(i)" *ngIf="curateForm.controls.tagInfo.controls.length > 1" style="color: white">
										<mat-icon>remove</mat-icon>
									</button>
								</div>
								<div class="col-sm-5">
									<mat-form-field>
										<mat-select placeholder="Select Tag Type" formControlName="tagType">
											<mat-option *ngFor="let tag of tagTypes" [value]="tag" (click)="selectTag(tag,i)">{{tag}}</mat-option>
										</mat-select>
									</mat-form-field>
								</div>
								<div class="col-sm-5">
									<!-- MIO -->
									<mat-form-field *ngIf="tagID == 'MIO'">
										<mat-select placeholder="Select Tag Category" formControlName="tagCategory">
											<mat-option *ngFor="let tagC of tagCategories[i]" [value]="tagC" (click)="selectTagCategory(tagC)">{{tagC}}</mat-option>
										</mat-select>
									</mat-form-field>
									<mat-form-field *ngIf="tagID == 'SEC'">
										<!-- SEC -->
										<mat-select placeholder="Select Tag Category" formControlName="tagCategory">
											<mat-option *ngFor="let tagD of tagCategories[i]" [value]="tagD" (click)="selectTagCategory(tagD)">{{tagD}}</mat-option>
										</mat-select>
									</mat-form-field>

									<!-- DOM -->
									<mat-form-field *ngIf="tagID == 'DOM'">
										<mat-select placeholder="Select Tag Category" formControlName="tagCategory">
											<mat-option *ngFor="let tagDOM of tagCategories[i]" [value]="tagDOM" (click)="selectTagCategory(tagDOM)">{{tagDOM}}</mat-option>
										</mat-select>
									</mat-form-field>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>

		</form>

	</section>
	<pre>{{curateForm.value | json}}</pre>
</div>
<div class="row" *ngIf="showProgressSpinner">
	<div class="col-sm-12">
		<mat-progress-spinner mode="indeterminate" color="primary" [strokeWidth]="8" style="margin: 0 auto"></mat-progress-spinner>
	</div>
</div>
<div class="row">
	<section id="outputs" class="col-mat-12">
		<div id="buttonsOP">
			<button mat-raised-button color="accent" (click)="submitTag()">Submit Tag Corrections</button>
			<button mat-raised-button color="accent" disabled>Tag in Atlas</button>
		</div>
	</section>
</div>